(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{E5tf:function(e,t,a){"use strict";a.r(t),a.d(t,"ChildRoutesModule",function(){return Re});var i=a("tyNb"),r=a("fXoL"),s=a("LPYB");let n=(()=>{class e{constructor(){this.polarAreaChartLabels=["Label1","Label2","Label3","Label4"],this.polarAreaChartData=[350,450,100,450],this.polarAreaLegend=!0,this.colors=[{backgroundColor:["rgba(46, 145, 221, 0.4)","rgba(255, 0, 0, 0.4)","rgba(58, 178, 96, 0.4)","rgba(237, 231, 71, 0.4)"]}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-polar"]],inputs:{polarAreaChartLabels:["labels","polarAreaChartLabels"],polarAreaChartData:["data","polarAreaChartData"],polarAreaLegend:["legend","polarAreaLegend"]},decls:3,vars:4,consts:[[1,"card-body"],[2,"display","block"],["baseChart","","chartType","polarArea",3,"data","labels","legend","colors"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"canvas",2),r.Pb(),r.Pb()),2&e&&(r.zb(2),r.fc("data",t.polarAreaChartData)("labels",t.polarAreaChartLabels)("legend",t.polarAreaLegend)("colors",t.colors))},directives:[s.a],encapsulation:2}),e})(),c=(()=>{class e{constructor(){this.labels1=["Interacciones","Venta","Visitas","Citas"],this.data1=[160,310,480,250],this.legend1=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-dashboard"]],decls:146,vars:3,consts:[[1,"row"],[1,"col-12","col-sm-6","col-md-3"],[1,"info-box"],[1,"info-box-icon","bg-info","elevation-1"],[1,"fas","fa-cog"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box","mb-3"],[1,"info-box-icon","bg-danger","elevation-1"],[1,"fas","fa-thumbs-up"],[1,"clearfix","hidden-md-up"],[1,"info-box-icon","bg-success","elevation-1"],[1,"fas","fa-shopping-cart"],[1,"info-box-icon","bg-warning","elevation-1"],[1,"fas","fa-users"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button","data-card-widget","collapse",1,"btn","btn-tool"],[1,"fas","fa-minus"],[1,"btn-group"],["type","button","data-toggle","dropdown",1,"btn","btn-tool","dropdown-toggle"],[1,"fas","fa-wrench"],["role","menu",1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["type","button","data-card-widget","remove",1,"btn","btn-tool"],[1,"fas","fa-times"],[1,"card-body"],[1,"col-md-8"],[1,"text-center"],[3,"labels","data","legend"],[1,"col-md-4"],[1,"progress-group"],[1,"float-right"],[1,"progress","progress-sm"],[1,"progress-bar","bg-primary",2,"width","80%"],[1,"progress-bar","bg-danger",2,"width","75%"],[1,"progress-text"],[1,"progress-bar","bg-success",2,"width","60%"],[1,"progress-bar","bg-warning",2,"width","50%"],[1,"card-footer"],[1,"col-sm-3","col-6"],[1,"description-block","border-right"],[1,"description-percentage","text-success"],[1,"fas","fa-caret-up"],[1,"description-header"],[1,"description-text"],[1,"description-percentage","text-warning"],[1,"fas","fa-caret-left"],[1,"description-block"],[1,"description-percentage","text-danger"],[1,"fas","fa-caret-down"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"span",3),r.Mb(4,"i",4),r.Pb(),r.Qb(5,"div",5),r.Qb(6,"span",6),r.tc(7,"Trafico del CPU"),r.Pb(),r.Qb(8,"span",7),r.tc(9," 10 "),r.Qb(10,"small"),r.tc(11,"%"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",1),r.Qb(13,"div",8),r.Qb(14,"span",9),r.Mb(15,"i",10),r.Pb(),r.Qb(16,"div",5),r.Qb(17,"span",6),r.tc(18,"Likes"),r.Pb(),r.Qb(19,"span",7),r.tc(20,"41,410"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(21,"div",11),r.Qb(22,"div",1),r.Qb(23,"div",8),r.Qb(24,"span",12),r.Mb(25,"i",13),r.Pb(),r.Qb(26,"div",5),r.Qb(27,"span",6),r.tc(28,"Ventas"),r.Pb(),r.Qb(29,"span",7),r.tc(30,"760"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(31,"div",1),r.Qb(32,"div",8),r.Qb(33,"span",14),r.Mb(34,"i",15),r.Pb(),r.Qb(35,"div",5),r.Qb(36,"span",6),r.tc(37,"Miembros"),r.Pb(),r.Qb(38,"span",7),r.tc(39,"2,000"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(40,"div",0),r.Qb(41,"div",16),r.Qb(42,"div",17),r.Qb(43,"div",18),r.Qb(44,"h5",19),r.tc(45,"Informe mensual"),r.Pb(),r.Qb(46,"div",20),r.Qb(47,"button",21),r.Mb(48,"i",22),r.Pb(),r.Qb(49,"div",23),r.Qb(50,"button",24),r.Mb(51,"i",25),r.Pb(),r.Qb(52,"div",26),r.Qb(53,"a",27),r.tc(54,"Action"),r.Pb(),r.Qb(55,"a",27),r.tc(56,"Another action"),r.Pb(),r.Qb(57,"a",27),r.tc(58,"Something else here"),r.Pb(),r.Mb(59,"a",28),r.Qb(60,"a",27),r.tc(61,"Separated link"),r.Pb(),r.Pb(),r.Pb(),r.Qb(62,"button",29),r.Mb(63,"i",30),r.Pb(),r.Pb(),r.Pb(),r.Qb(64,"div",31),r.Qb(65,"div",0),r.Qb(66,"div",32),r.Qb(67,"p",33),r.Qb(68,"strong"),r.tc(69,"Ventas: 1 Enero, 2021 - 30 Abril, 2021"),r.Pb(),r.Pb(),r.Mb(70,"app-polar",34),r.Pb(),r.Qb(71,"div",35),r.Qb(72,"p",33),r.Qb(73,"strong"),r.tc(74,"Seguimiento de objetivos"),r.Pb(),r.Pb(),r.Qb(75,"div",36),r.tc(76," Interaccion en redes sociales "),r.Qb(77,"span",37),r.Qb(78,"b"),r.tc(79,"160"),r.Pb(),r.tc(80,"/200"),r.Pb(),r.Qb(81,"div",38),r.Mb(82,"div",39),r.Pb(),r.Pb(),r.Qb(83,"div",36),r.tc(84," Venta completada "),r.Qb(85,"span",37),r.Qb(86,"b"),r.tc(87,"310"),r.Pb(),r.tc(88,"/400"),r.Pb(),r.Qb(89,"div",38),r.Mb(90,"div",40),r.Pb(),r.Pb(),r.Qb(91,"div",36),r.Qb(92,"span",41),r.tc(93,"Visitas a la pagina"),r.Pb(),r.Qb(94,"span",37),r.Qb(95,"b"),r.tc(96,"480"),r.Pb(),r.tc(97,"/800"),r.Pb(),r.Qb(98,"div",38),r.Mb(99,"div",42),r.Pb(),r.Pb(),r.Qb(100,"div",36),r.tc(101," Citas con clientes "),r.Qb(102,"span",37),r.Qb(103,"b"),r.tc(104,"250"),r.Pb(),r.tc(105,"/500"),r.Pb(),r.Qb(106,"div",38),r.Mb(107,"div",43),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(108,"div",44),r.Qb(109,"div",0),r.Qb(110,"div",45),r.Qb(111,"div",46),r.Qb(112,"span",47),r.Mb(113,"i",48),r.tc(114," 17%"),r.Pb(),r.Qb(115,"h5",49),r.tc(116,"$35,210.43"),r.Pb(),r.Qb(117,"span",50),r.tc(118,"TOTAL DE INGRESOS"),r.Pb(),r.Pb(),r.Pb(),r.Qb(119,"div",45),r.Qb(120,"div",46),r.Qb(121,"span",51),r.Mb(122,"i",52),r.tc(123," 0%"),r.Pb(),r.Qb(124,"h5",49),r.tc(125,"$10,390.90"),r.Pb(),r.Qb(126,"span",50),r.tc(127,"COSTE TOTAL"),r.Pb(),r.Pb(),r.Pb(),r.Qb(128,"div",45),r.Qb(129,"div",46),r.Qb(130,"span",47),r.Mb(131,"i",48),r.tc(132," 20%"),r.Pb(),r.Qb(133,"h5",49),r.tc(134,"$24,813.53"),r.Pb(),r.Qb(135,"span",50),r.tc(136,"BENEFICIO TOTAL"),r.Pb(),r.Pb(),r.Pb(),r.Qb(137,"div",45),r.Qb(138,"div",53),r.Qb(139,"span",54),r.Mb(140,"i",55),r.tc(141," 18%"),r.Pb(),r.Qb(142,"h5",49),r.tc(143,"1200"),r.Pb(),r.Qb(144,"span",50),r.tc(145,"OBJETIVOS TERMINADOS"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(70),r.fc("labels",t.labels1)("data",t.data1)("legend",t.legend1))},directives:[n],encapsulation:2}),e})();var o=a("ofXK"),b=a("3Pt+");const d=function(e){return{"is-invalid":e}};let l=(()=>{class e{constructor(){this.progress=50,this.btnClass="btn-primary",this.outValue=new r.n}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}get getPercent(){return`${this.progress}%`}setPrcent(e){return this.progress>=100&&e>=0?(this.outValue.emit(100),this.progress=100):this.progress<=0&&e<0?(this.outValue.emit(0),this.progress=0):(this.progress=this.progress+e,void this.outValue.emit(this.progress))}onChange(e){this.progress=e>=100?100:e<=0?0:e,this.outValue.emit(this.progress)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-increase"]],inputs:{progress:["value","progress"],btnClass:"btnClass"},outputs:{outValue:"value"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-prepend"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","min","0","max","100","placeholder","Porcentaje",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"input-group-append"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"button",2),r.Xb("click",function(){return t.setPrcent(-5)}),r.Mb(3,"i",3),r.Pb(),r.Pb(),r.Qb(4,"input",4),r.Xb("ngModelChange",function(e){return t.onChange(e)})("ngModelChange",function(e){return t.progress=e}),r.Pb(),r.Qb(5,"div",5),r.Qb(6,"button",2),r.Xb("click",function(){return t.setPrcent(5)}),r.Mb(7,"i",6),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(2),r.fc("ngClass",t.btnClass),r.zb(2),r.fc("ngClass",r.ic(4,d,t.progress>100||t.progress<0))("ngModel",t.progress),r.zb(2),r.fc("ngClass",t.btnClass))},directives:[o.i,b.n,b.b,b.i,b.l],encapsulation:2}),e})(),u=(()=>{class e{constructor(){this.progress1=15,this.progress2=68}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-progress"]],decls:21,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"progress","progress-sm","active"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped"],[1,"col-6"],[3,"value"],[3,"value","btnClass"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h3",4),r.tc(5,"Barra de porgreso"),r.Pb(),r.Pb(),r.Qb(6,"div",5),r.Qb(7,"div",6),r.Mb(8,"div",7),r.Pb(),r.Pb(),r.Qb(9,"div",5),r.Qb(10,"div",6),r.Mb(11,"div",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",0),r.Qb(13,"div",8),r.Qb(14,"div",2),r.Qb(15,"div",5),r.Qb(16,"app-increase",9),r.Xb("value",function(e){return t.progress1=e}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"div",8),r.Qb(18,"div",2),r.Qb(19,"div",5),r.Qb(20,"app-increase",10),r.Xb("value",function(e){return t.progress2=e}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(8),r.rc("width",t.getProgress1),r.zb(3),r.rc("width",t.getProgress2),r.zb(5),r.fc("value",t.progress1),r.zb(4),r.fc("value",t.progress2)("btnClass","btn-info"))},directives:[l],encapsulation:2}),e})(),m=(()=>{class e{constructor(){this.title="Sin titulo",this.doughnutChartLabels=["Label1","Label2","Label3"],this.ddoughnutChartData=[[350,450,100]],this.colors=[{backgroundColor:["#6857E6","#009FEE","#FFB414"]}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-dount"]],inputs:{title:"title",doughnutChartLabels:["labels","doughnutChartLabels"],ddoughnutChartData:["data","ddoughnutChartData"]},decls:7,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[2,"display","block"],["baseChart","","chartType","doughnut",3,"data","labels","colors"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h3",2),r.tc(3),r.Pb(),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Mb(6,"canvas",5),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(3),r.uc(t.title),r.zb(3),r.fc("data",t.ddoughnutChartData)("labels",t.doughnutChartLabels)("colors",t.colors))},directives:[s.a],encapsulation:2}),e})(),p=(()=>{class e{constructor(){this.labels1=["Tacos","Pan","Tostadas"],this.data1=[[60,10,130]]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-grafic1"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-6"],["title","Ventas"],["title","Compras"],["title","Gastos",3,"labels","data"],["title","Ingresos"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"app-dount",2),r.Pb(),r.Qb(3,"div",1),r.Mb(4,"app-dount",3),r.Pb(),r.Pb(),r.Qb(5,"div",0),r.Qb(6,"div",1),r.Mb(7,"app-dount",4),r.Pb(),r.Qb(8,"div",1),r.Mb(9,"app-dount",5),r.Pb(),r.Pb()),2&e&&(r.zb(7),r.fc("labels",t.labels1)("data",t.data1))},directives:[m],encapsulation:2}),e})(),h=(()=>{class e{constructor(){}ngOnInit(){}getUsers(){return new Promise(e=>{fetch("https://reqres.in/api/users?page=2").then(e=>e.json()).then(t=>e(t.data))})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-promesas"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Qb(0,"p"),r.tc(1,"promesas works!"),r.Pb())},encapsulation:2}),e})();var f=a("HDdC"),g=a("D0XW"),P=a("Y7HM");function v(e){const{subscriber:t,counter:a,period:i}=e;t.next(a),this.schedule({subscriber:t,counter:a+1,period:i},i)}var Q=a("lJxs"),y=a("pLZG");let _=(()=>{class e{constructor(){}ngOnDestroy(){}retornaInterval(){return function(e=0,t=g.a){return(!Object(P.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=g.a),new f.a(a=>(a.add(t.schedule(v,e,{subscriber:a,counter:0,period:e})),a))}(100).pipe(Object(Q.a)(e=>e+1),Object(y.a)(e=>e%2==0))}retornaObserbable(){let e=-1;return new f.a(t=>{const a=setInterval(()=>{e++,t.next(e),4===e&&(clearInterval(a),t.complete()),2===e&&t.error("i Llego al valor de 2")},1e3)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Qb(0,"p"),r.tc(1,"rxjs works!"),r.Pb())},encapsulation:2}),e})();var C=a("PSD3"),I=a.n(C),x=a("qfBg"),w=a("FO31");function M(e,t){if(1&e&&r.Mb(0,"img",37),2&e){const e=r.Zb();r.fc("src",e.user.imageUrl,r.pc)}}function S(e,t){if(1&e&&r.Mb(0,"img",38),2&e){const e=r.Zb();r.fc("src",e.imgTemp,r.pc)}}let z=(()=>{class e{constructor(e,t,a){this.userServise=e,this.fb=t,this.fileUploadService=a,this.imgTemp=null,this.user=e.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,b.q.required],email:[this.user.email,[b.q.required,b.q.email]]})}updateProfile(){console.log(this.profileForm.value),this.userServise.updateProfile(this.profileForm.value).subscribe(()=>{const{name:e,email:t}=this.profileForm.value;this.user.name=e,this.user.email=t,I.a.fire({position:"top-end",icon:"success",title:"Tus cambios han sido guardados",showConfirmButton:!1,timer:1500})},e=>{I.a.fire("Error",e.error.msg,"error")})}changeImage(e){if(this.imageUpdate=e,!e)return this.imgTemp=null;const t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{this.imgTemp=t.result}}upImage(){this.fileUploadService.updatePicture(this.imageUpdate,"users",this.user.id).then(e=>{this.user.img=e,I.a.fire({position:"top-end",icon:"success",title:"Tus cambios han sido guardados",showConfirmButton:!1,timer:1500})}).catch(e=>{console.log(e),I.a.fire("Error","No se pudo subir la imagen","error")})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(x.a),r.Lb(b.c),r.Lb(w.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-profile"]],decls:56,vars:8,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-md-3"],[1,"card","card-primary","card-outline"],[1,"card-body","box-profile"],[1,"text-center"],["alt","User profile picture",1,"profile-user-img","img-fluid","img-circle",3,"src"],[1,"profile-username","text-center"],[1,"text-muted","text-center"],[1,"col-md-9"],[1,"card"],[1,"card-header","p-2"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#ajustes","data-toggle","tab",1,"nav-link","active"],["href","#avatar","data-toggle","tab",1,"nav-link"],[1,"card-body"],[1,"tab-content"],["id","avatar",1,"tab-pane"],[1,"form-group","row"],["for","inputEmail",1,"col-sm-2","col-form-label"],[1,"col-sm-10","text-center"],[1,"figure","max-width=50%"],["class","figure-img rounded mx-auto d-block",3,"src",4,"ngIf"],["class","figure-img img-fluid rounded",3,"src",4,"ngIf"],["for","inputSkills",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","file",1,"form-control","file",3,"change"],[1,"offset-sm-2","col-sm-10"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["id","ajustes",1,"tab-pane","active"],[1,"form-horizontal",3,"formGroup","submit"],["for","inputName",1,"col-sm-2","col-form-label"],["type","email","id","inputName","placeholder","Nombre del usuario","formControlName","name",1,"form-control"],["type","email","id","inputEmail","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"figure-img","rounded","mx-auto","d-block",3,"src"],[1,"figure-img","img-fluid","rounded",3,"src"]],template:function(e,t){1&e&&(r.Qb(0,"section",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Mb(7,"img",7),r.Pb(),r.Qb(8,"h3",8),r.tc(9),r.Pb(),r.Qb(10,"p",9),r.tc(11,"Software Engineer"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",10),r.Qb(13,"div",11),r.Qb(14,"div",12),r.Qb(15,"ul",13),r.Qb(16,"li",14),r.Qb(17,"a",15),r.tc(18,"Ajustes"),r.Pb(),r.Pb(),r.Qb(19,"li",14),r.Qb(20,"a",16),r.tc(21,"Avatar"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(22,"div",17),r.Qb(23,"div",18),r.Qb(24,"div",19),r.Qb(25,"div",20),r.Qb(26,"label",21),r.tc(27,"Avatar"),r.Pb(),r.Qb(28,"div",22),r.Qb(29,"figure",23),r.sc(30,M,1,1,"img",24),r.sc(31,S,1,1,"img",25),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",20),r.Mb(33,"label",26),r.Qb(34,"div",27),r.Qb(35,"input",28),r.Xb("change",function(e){return t.changeImage(e.target.files[0])}),r.Pb(),r.Pb(),r.Pb(),r.Qb(36,"div",20),r.Qb(37,"div",29),r.Qb(38,"button",30),r.Xb("click",function(){return t.upImage()}),r.tc(39,"Cambiar imagen"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(40,"div",31),r.Qb(41,"form",32),r.Xb("submit",function(){return t.updateProfile()}),r.Qb(42,"div",20),r.Qb(43,"label",33),r.tc(44,"Name"),r.Pb(),r.Qb(45,"div",27),r.Mb(46,"input",34),r.Pb(),r.Pb(),r.Qb(47,"div",20),r.Qb(48,"label",21),r.tc(49,"Email"),r.Pb(),r.Qb(50,"div",27),r.Mb(51,"input",35),r.Pb(),r.Pb(),r.Qb(52,"div",20),r.Qb(53,"div",29),r.Qb(54,"button",36),r.tc(55,"Guardar cambios"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(7),r.fc("src",t.user.imageUrl,r.pc),r.zb(2),r.uc(t.user.name),r.zb(21),r.fc("ngIf",!t.imgTemp),r.zb(1),r.fc("ngIf",t.imgTemp),r.zb(7),r.fc("disabled",!t.imageUpdate),r.zb(3),r.fc("formGroup",t.profileForm),r.zb(10),r.fc("readOnly",t.user.google),r.zb(3),r.fc("disabled",t.profileForm.invalid))},directives:[o.k,b.r,b.j,b.e,b.b,b.i,b.d],encapsulation:2}),e})();var k=a("7o/Q"),j=a("WMd4");function $(e,t=g.a){var a;const i=(a=e)instanceof Date&&!isNaN(+a)?+e-t.now():Math.abs(e);return e=>e.lift(new L(i,t))}class L{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new F(e,this.delay,this.scheduler))}}class F extends k.a{constructor(e,t,a){super(e),this.delay=t,this.scheduler=a,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,a=t.queue,i=e.scheduler,r=e.destination;for(;a.length>0&&a[0].time-i.now()<=0;)a.shift().notification.observe(r);if(a.length>0){const t=Math.max(0,a[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(F.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,a=new O(t.now()+this.delay,e);this.queue.push(a),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(j.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(j.a.createComplete()),this.unsubscribe()}}class O{constructor(e,t){this.time=e,this.notification=t}}var A=a("AytR"),E=a("Tj/N"),U=a("tk/3");const T=A.a.baseUrl;let X=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}usersTransform(e){return e.map(e=>new E.a(e.name,e.email,"",e.img,e.google,e.role,e.id))}companiesTransform(e){return e}customersTransform(e){return e}projectsTransform(e){return e}searchGlobal(e){return this.http.get(`${T}/search/${e}`,this.headers)}search(e,t){return this.http.get(`${T}/search/collection/${e}/${t}`,this.headers).pipe(Object(Q.a)(t=>{switch(e){case"users":return this.usersTransform(t.results);case"companies":return this.companiesTransform(t.results);case"customers":return this.customersTransform(t.results);case"projects":return this.projectsTransform(t.results);default:return[]}}))}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(U.a))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=a("ke35");function D(e,t){1&e&&(r.Qb(0,"div",12),r.Qb(1,"div",13),r.Qb(2,"span",14),r.tc(3,"Loading..."),r.Pb(),r.Pb(),r.Pb())}function R(e,t){1&e&&(r.Qb(0,"span",31),r.tc(1,"Google"),r.Pb())}function V(e,t){1&e&&(r.Qb(0,"span",32),r.tc(1,"Email"),r.Pb())}function Z(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",21),r.Qb(2,"img",22),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).openModal(a)}),r.Pb(),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.Pb(),r.Qb(7,"td"),r.Qb(8,"select",23),r.Xb("ngModelChange",function(e){return t.$implicit.role=e})("change",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).changeRole(a)}),r.Qb(9,"option",24),r.tc(10,"ADMIN_ROLE"),r.Pb(),r.Qb(11,"option",25),r.tc(12,"USER_ROLE"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"td"),r.sc(14,R,2,0,"span",26),r.sc(15,V,2,0,"span",27),r.Pb(),r.Qb(16,"td",28),r.Qb(17,"a",29),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).deleteUser(a)}),r.Mb(18,"i",30),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit;r.zb(2),r.fc("src",e.imageUrl,r.pc),r.zb(2),r.uc(e.email),r.zb(2),r.uc(e.name),r.zb(2),r.fc("ngModel",e.role),r.zb(6),r.fc("ngIf",e.google),r.zb(1),r.fc("ngIf",!e.google)}}function B(e,t){if(1&e&&(r.Qb(0,"div",15),r.Qb(1,"h6",16),r.tc(2),r.Pb(),r.Qb(3,"div",17),r.Qb(4,"table",18),r.Qb(5,"thead"),r.Qb(6,"tr"),r.Qb(7,"th",19),r.tc(8,"Avatar"),r.Pb(),r.Qb(9,"th"),r.tc(10,"Correo"),r.Pb(),r.Qb(11,"th"),r.tc(12,"Nombre"),r.Pb(),r.Qb(13,"th"),r.tc(14,"Role"),r.Pb(),r.Qb(15,"th",19),r.tc(16,"Auth"),r.Pb(),r.Qb(17,"th",19),r.tc(18,"Acciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"tbody"),r.sc(20,Z,19,6,"tr",20),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.vc("Total de usuarios: (",e.totalUsers,")"),r.zb(18),r.fc("ngForOf",e.users)}}function q(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",33),r.Qb(1,"ul",34),r.Qb(2,"li",35),r.Qb(3,"button",36),r.Xb("click",function(){return r.oc(e),r.Zb().changePage(-5)}),r.tc(4,"Anterior"),r.Pb(),r.Pb(),r.tc(5," \xa0 "),r.Qb(6,"li",35),r.Qb(7,"button",36),r.Xb("click",function(){return r.oc(e),r.Zb().changePage(5)}),r.tc(8,"Siguiente"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}}let G=(()=>{class e{constructor(e,t,a){this.userService=e,this.searchService=t,this.modalImageService=a,this.totalUsers=0,this.users=[],this.usersTemp=[],this.from=0,this.loading=!0}ngOnDestroy(){this.imageSubs.unsubscribe()}ngOnInit(){this.uploadUsers(),this.imageSubs=this.modalImageService.newImage.pipe($(100)).subscribe(e=>this.uploadUsers())}uploadUsers(){this.loading=!0,this.userService.uploadUsers(this.from).subscribe(({total:e,users:t})=>{this.totalUsers=e,this.users=t,this.usersTemp=t,this.loading=!1})}changePage(e){this.from+=e,this.from<0?this.from=0:this.from>=this.totalUsers&&(this.from-=e),this.uploadUsers()}search(e){if(0===e.length)return this.users=this.usersTemp;this.searchService.search("users",e).subscribe(e=>{this.users=e})}deleteUser(e){if(e.id===this.userService.id)return I.a.fire("Error","No puede borrarse a si mismo","error");I.a.fire({title:"\xbfBorrar usuario?",text:`Esta a punto de borrar a ${e.name}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(t=>{t.value&&this.userService.deleteUser(e).subscribe(()=>{this.uploadUsers(),I.a.fire("Usuario borrado",`${e.name} fue eliminado correctamente`,"success")})})}changeRole(e){this.userService.saveUser(e).subscribe(e=>{})}openModal(e){this.modalImageService.openModal("users",e.id,e.img)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(x.a),r.Lb(X),r.Lb(N.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-users"]],decls:16,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario",1,"form-control",3,"keyup"],["txtTerm",""],[1,"card-header"],[1,"card-title"],[1,"fas","fa-user"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-body animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-footer clearfix",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],["role","status",1,"spinner-border","m-3",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"card-body","animate__animated","animate__fadeIn","animate__fast"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"img-fluid","img-circle","avatar","cursor",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","badge bg-danger",4,"ngIf"],["class","badge bg-primary",4,"ngIf"],[1,"project-actions","text-center"],[1,"text-danger","cursor",3,"click"],[1,"fas","fa-trash"],[1,"badge","bg-danger"],[1,"badge","bg-primary"],[1,"card-footer","clearfix"],[1,"pagination","pagination-sm","m-0","float-right"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.oc(e);const a=r.nc(5);return t.search(a.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",0),r.Qb(7,"div",1),r.Qb(8,"div",2),r.Qb(9,"div",6),r.Qb(10,"h3",7),r.Mb(11,"i",8),r.tc(12," Usuarios "),r.Pb(),r.Pb(),r.sc(13,D,4,0,"div",9),r.sc(14,B,21,2,"div",10),r.sc(15,q,9,0,"div",11),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.nc(5);r.zb(13),r.fc("ngIf",t.loading),r.zb(1),r.fc("ngIf",!t.loading),r.zb(1),r.fc("ngIf",0===e.value.length)}},directives:[o.k,o.j,b.p,b.i,b.l,b.m,b.s],encapsulation:2}),e})();const H=A.a.baseUrl;let Y=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadCustomer(){return this.http.get(`${H}/customers`,this.headers).pipe(Object(Q.a)(e=>e.customers))}getCustomerId(e){return this.http.get(`${H}/customers/${e}`,this.headers).pipe(Object(Q.a)(e=>e.customer))}createCustomer(e){return this.http.post(`${H}/customers`,e,this.headers)}updateCustomer(e){return this.http.put(`${H}/customers/${e._id}`,e,this.headers)}deleteCustomer(e){return this.http.delete(`${H}/customers/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(U.a))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const J=A.a.baseUrl;let K=(()=>{class e{transform(e,t){return e?e.includes("https")?e:e?`${J}/uploads/${t}/${e}`:`${J}/uploads/users/no-image`:`${J}/uploads/users/no-image`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Kb({name:"image",type:e,pure:!0}),e})();function W(e,t){1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.Qb(2,"span",15),r.tc(3,"Loading..."),r.Pb(),r.Pb(),r.Pb())}const ee=function(e){return["/dashboard","customer",e]};function te(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr",22),r.Qb(1,"td"),r.Qb(2,"img",23),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).openModal(a)}),r.ac(3,"image"),r.Pb(),r.Pb(),r.Qb(4,"td"),r.tc(5),r.Pb(),r.Qb(6,"td",24),r.Qb(7,"a",25),r.Mb(8,"i",26),r.Pb(),r.tc(9," \xa0 "),r.Qb(10,"a",27),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).deleteCustomer(a)}),r.Mb(11,"i",28),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit;r.zb(2),r.fc("src",r.cc(3,4,e.img,"customers"),r.pc)("alt",e.name),r.zb(3),r.uc(e.name),r.zb(2),r.fc("routerLink",r.ic(7,ee,e._id))}}function ae(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"h6",17),r.tc(2),r.Pb(),r.Qb(3,"div",18),r.Qb(4,"table",19),r.Qb(5,"thead"),r.Qb(6,"tr"),r.Qb(7,"th"),r.tc(8,"Foto"),r.Pb(),r.Qb(9,"th"),r.tc(10,"Nombre"),r.Pb(),r.Qb(11,"th",20),r.tc(12,"Acciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"tbody"),r.sc(14,te,12,9,"tr",21),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.vc("Total de clientes: ",e.customers.length,""),r.zb(12),r.fc("ngForOf",e.customers)}}let ie=(()=>{class e{constructor(e,t,a){this.customerService=e,this.modalImageService=t,this.searchesService=a,this.loading=!0,this.customers=[]}ngOnDestroy(){this.imageSubs.unsubscribe()}ngOnInit(){this.loadCustomers(),this.imageSubs=this.imageSubs=this.modalImageService.newImage.pipe($(100)).subscribe(e=>this.loadCustomers())}loadCustomers(){this.loading=!0,this.customerService.loadCustomer().subscribe(e=>{this.loading=!1,this.customers=e})}search(e){if(0===e.length)return this.loadCustomers();this.searchesService.search("customers",e).subscribe(e=>{this.customers=e})}openModal(e){this.modalImageService.openModal("customers",e._id,e.img)}deleteCustomer(e){I.a.fire({title:"\xbfBorrar cliente?",text:`Esta a punto de borrar a ${e.name}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(t=>{t.value&&this.customerService.deleteCustomer(e._id).subscribe(t=>{this.loadCustomers(),I.a.fire("Cliente borrado",`${e.name} fue eliminado correctamente`,"success")})})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(Y),r.Lb(N.a),r.Lb(X))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-customers"]],decls:18,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar cliente",1,"form-control",3,"keyup"],["txtTerm",""],[1,"card-header"],[1,"card-title"],[1,"fas","fa-user-tag"],[1,"text-right"],["routerLink","/dashboard/customer/new",1,"btn","btn-primary","btn-sm"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-body animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],["role","status",1,"spinner-border","m-3",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"card-body","animate__animated","animate__fadeIn","animate__fast"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"img-fluid","img-circle","avatar","cursor",3,"src","alt","click"],[1,"text-nowrap","text-center"],[1,"text-peimary","cursor",3,"routerLink"],[1,"fas","fa-pencil-alt"],[1,"text-danger","cursor",3,"click"],[1,"fas","fa-trash"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.oc(e);const a=r.nc(5);return t.search(a.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",0),r.Qb(7,"div",1),r.Qb(8,"div",2),r.Qb(9,"div",6),r.Qb(10,"h3",7),r.Mb(11,"i",8),r.tc(12," Clientes "),r.Pb(),r.Qb(13,"div",9),r.Qb(14,"a",10),r.tc(15," Crear Cliente "),r.Pb(),r.Pb(),r.Pb(),r.sc(16,W,4,0,"div",11),r.sc(17,ae,15,2,"div",12),r.Pb(),r.Pb(),r.Pb()}2&e&&(r.zb(16),r.fc("ngIf",t.loading),r.zb(1),r.fc("ngIf",!t.loading))},directives:[i.e,o.k,o.j],pipes:[K],encapsulation:2}),e})();var re=a("mrSG");const se=A.a.baseUrl;let ne=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadCompany(){return this.http.get(`${se}/companies`,this.headers).pipe(Object(Q.a)(e=>e.companies))}createCompany(e){return this.http.post(`${se}/companies`,{name:e},this.headers)}updateCompany(e,t){return this.http.put(`${se}/companies/${e}`,{name:t},this.headers)}deleteCompany(e){return this.http.delete(`${se}/companies/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(U.a))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ce(e,t){1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.Qb(2,"span",15),r.tc(3,"Loading..."),r.Pb(),r.Pb(),r.Pb())}function oe(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr",22),r.Qb(1,"td"),r.Qb(2,"img",23),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).openModal(a)}),r.ac(3,"image"),r.Pb(),r.Pb(),r.Qb(4,"td"),r.Qb(5,"input",24),r.Xb("ngModelChange",function(e){return t.$implicit.name=e}),r.Pb(),r.Pb(),r.Qb(6,"td",25),r.Qb(7,"a",26),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).saveChanges(a)}),r.Mb(8,"i",27),r.Pb(),r.tc(9," \xa0 "),r.Qb(10,"a",28),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).deleteCompany(a)}),r.Mb(11,"i",29),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit;r.zb(2),r.fc("src",r.cc(3,3,e.img,"companies"),r.pc)("alt",e.name),r.zb(3),r.fc("ngModel",e.name)}}function be(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"h6",17),r.tc(2),r.Pb(),r.Qb(3,"div",18),r.Qb(4,"table",19),r.Qb(5,"thead"),r.Qb(6,"tr"),r.Qb(7,"th"),r.tc(8,"Foto"),r.Pb(),r.Qb(9,"th"),r.tc(10,"Nombre"),r.Pb(),r.Qb(11,"th",20),r.tc(12,"Acciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"tbody"),r.sc(14,oe,12,6,"tr",21),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.vc("Total de empresas: (",e.companies.length,")"),r.zb(12),r.fc("ngForOf",e.companies)}}let de=(()=>{class e{constructor(e,t,a){this.companyServices=e,this.modalImageService=t,this.searchesService=a,this.companies=[],this.loading=!0}ngOnDestroy(){this.imageSubs.unsubscribe()}ngOnInit(){this.loadCompanies(),this.imageSubs=this.imageSubs=this.modalImageService.newImage.pipe($(100)).subscribe(e=>this.loadCompanies())}search(e){if(0===e.length)return this.loadCompanies();this.searchesService.search("companies",e).subscribe(e=>{this.companies=e})}loadCompanies(){this.loading=!0,this.companyServices.loadCompany().subscribe(e=>{this.loading=!1,this.companies=e})}saveChanges(e){this.companyServices.updateCompany(e._id,e.name).subscribe(t=>{I.a.fire("Actualizado",e.name,"success")})}deleteCompany(e){this.companyServices.deleteCompany(e._id).subscribe(t=>{this.loadCompanies(),I.a.fire("Borrado",e.name,"success")})}openSweetAlert(){return Object(re.a)(this,void 0,void 0,function*(){const{value:e=""}=yield I.a.fire({title:"Crear Empresa",text:"Ingrese el nombre de la nueva empresa",input:"text",inputPlaceholder:"Nombre de la empresa",showCancelButton:!0});e.trim().length>0&&this.companyServices.createCompany(e).subscribe(e=>{this.companies.push(e.company)})})}openModal(e){this.modalImageService.openModal("companies",e._id,e.img)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(ne),r.Lb(N.a),r.Lb(X))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-companies"]],decls:18,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar empresa",1,"form-control",3,"keyup"],["txtTerm",""],[1,"card-header"],[1,"card-title"],[1,"fas","fa-building"],[1,"text-right"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-body animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],["role","status",1,"spinner-border","m-3",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"card-body","animate__animated","animate__fadeIn","animate__fast"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"img-fluid","img-circle","avatar","cursor",3,"src","alt","click"],["type","text","placeholder","Nombre de la empresa",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],[1,"text-info","cursor",3,"click"],[1,"fas","fa-save"],[1,"text-danger","cursor",3,"click"],[1,"fas","fa-trash"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.oc(e);const a=r.nc(5);return t.search(a.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",0),r.Qb(7,"div",1),r.Qb(8,"div",2),r.Qb(9,"div",6),r.Qb(10,"h3",7),r.Mb(11,"i",8),r.tc(12," Empresas "),r.Pb(),r.Qb(13,"div",9),r.Qb(14,"button",10),r.Xb("click",function(){return t.openSweetAlert()}),r.tc(15," Crear Empresa "),r.Pb(),r.Pb(),r.Pb(),r.sc(16,ce,4,0,"div",11),r.sc(17,be,15,2,"div",12),r.Pb(),r.Pb(),r.Pb()}2&e&&(r.zb(16),r.fc("ngIf",t.loading),r.zb(1),r.fc("ngIf",!t.loading))},directives:[o.k,o.j,b.b,b.i,b.l],pipes:[K],encapsulation:2}),e})();function le(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"div",17),r.Mb(2,"img",18),r.ac(3,"image"),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.fc("src",r.cc(3,1,e.customerSelected.img,"customers"),r.pc)}}function ue(e,t){if(1&e&&(r.Qb(0,"option",19),r.tc(1),r.Pb()),2&e){const e=t.$implicit;r.fc("value",e._id),r.zb(1),r.uc(e.name)}}function me(e,t){if(1&e&&(r.Qb(0,"div",20),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"h3",4),r.tc(4),r.Pb(),r.Pb(),r.Qb(5,"div",21),r.Mb(6,"img",18),r.ac(7,"image"),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(4),r.vc("Empresa: ",e.companySelected.name,""),r.zb(2),r.fc("src",r.cc(7,2,e.companySelected.img,"companies"),r.pc)}}let pe=(()=>{class e{constructor(e,t,a,i,r){this.fb=e,this.companyService=t,this.customerService=a,this.router=i,this.activatedRoute=r,this.companies=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:e})=>this.loadCustomer(e)),this.customerForm=this.fb.group({name:["",b.q.required],company:["",b.q.required]}),this.loadCompanies(),this.customerForm.get("company").valueChanges.subscribe(e=>{this.companySelected=this.companies.find(t=>t._id===e)})}loadCustomer(e){"new"!==e&&this.customerService.getCustomerId(e).pipe($(100)).subscribe(e=>{if(!e)return this.router.navigateByUrl("/dashboard/customers");const{name:t,company:{_id:a}}=e;this.customerSelected=e,this.customerForm.setValue({name:t,company:a})})}loadCompanies(){this.companyService.loadCompany().subscribe(e=>{this.companies=e})}saveCustomer(){const{name:e}=this.customerForm.value;if(this.customerSelected){const t=Object.assign(Object.assign({},this.customerForm.value),{_id:this.customerSelected._id});this.customerService.updateCustomer(t).subscribe(t=>{I.a.fire("Actualizado",`${e} actualizado correctamente`,"success")})}else this.customerService.createCustomer(this.customerForm.value).subscribe(t=>{I.a.fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl(`/dashboard/customer/${t.customer._id}`)})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(b.c),r.Lb(ne),r.Lb(Y),r.Lb(i.c),r.Lb(i.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-customer"]],decls:23,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card","card-ligth"],[1,"card-header"],[1,"card-title"],["role","form",3,"formGroup","submit"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Nombre del cliente","formControlName","name",1,"form-control"],["formControlName","company",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","col animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],[1,"col-sm-12"],["alt","",1,"img-circle","img-fluid","w200",3,"src"],[3,"value"],[1,"col","animate__animated","animate__fadeIn","animate__fast"],[1,"card-body","text-center"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h3",4),r.tc(5,"Actualizar informacion"),r.Pb(),r.Pb(),r.Qb(6,"form",5),r.Xb("submit",function(){return t.saveCustomer()}),r.sc(7,le,4,4,"div",6),r.Qb(8,"div",7),r.Qb(9,"div",8),r.Qb(10,"label",9),r.tc(11,"Nombre"),r.Pb(),r.Mb(12,"input",10),r.Pb(),r.Qb(13,"div",8),r.Qb(14,"label"),r.tc(15,"Empresa"),r.Pb(),r.Qb(16,"select",11),r.Qb(17,"option",12),r.tc(18,"Seleccione empresa"),r.Pb(),r.sc(19,ue,2,2,"option",13),r.Pb(),r.Pb(),r.Qb(20,"button",14),r.tc(21,"Guardar"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.sc(22,me,8,5,"div",15),r.Pb()),2&e&&(r.zb(6),r.fc("formGroup",t.customerForm),r.zb(1),r.fc("ngIf",t.customerSelected),r.zb(12),r.fc("ngForOf",t.companies),r.zb(1),r.fc("disabled",t.customerForm.invalid),r.zb(2),r.fc("ngIf",t.companySelected))},directives:[b.r,b.j,b.e,o.k,b.b,b.i,b.d,b.p,b.m,b.s,o.j],pipes:[K],encapsulation:2}),e})();const he=A.a.baseUrl;let fe=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadProject(){return this.http.get(`${he}/projects`,this.headers).pipe(Object(Q.a)(e=>{for(let t=0;t<e.projects.length;t++)e.projects[t].dates[0]=new Date(e.projects[t].dates[0]),e.projects[t].dates[1]=new Date(e.projects[t].dates[1]);return e.projects}))}createProject(e){return this.http.post(`${he}/projects`,{name:e},this.headers)}updateProject(e,t,a,i,r,s,n){return this.http.put(`${he}/projects/${e}`,{name:t,customer:a,manager:i,status:r,dates:s,description:n},this.headers).pipe(Object(Q.a)(e=>{const t=new Date(e.project.dates[0]),a=new Date(e.project.dates[1]);return e.project.dates=[t,a],e}))}updatePrice(e,t,a){return this.http.put(`${he}/projects/${e}`,{name:t,price:a},this.headers)}deleteProject(e){return this.http.delete(`${he}/projects/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(U.a))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ge=a("hzby");function Pe(e,t){1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.Qb(2,"span",15),r.tc(3,"Loading..."),r.Pb(),r.Pb(),r.Pb())}function ve(e,t){if(1&e&&(r.Qb(0,"option",38),r.tc(1),r.Pb()),2&e){const e=t.$implicit;r.gc("value",e._id),r.zb(1),r.uc(e.name)}}function Qe(e,t){if(1&e&&(r.Qb(0,"option",38),r.tc(1),r.Pb()),2&e){const e=t.$implicit;r.gc("value",e.id),r.zb(1),r.uc(e.name)}}const ye=function(){return{adaptivePosition:!0,rangeInputFormat:"DD-MM-YYYY",containerClass:"theme-blue"}};function _e(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr",23),r.Qb(1,"td"),r.Qb(2,"input",24),r.Xb("ngModelChange",function(e){return t.$implicit.name=e}),r.Pb(),r.Pb(),r.Qb(3,"td"),r.Qb(4,"select",25),r.Xb("ngModelChange",function(e){return t.$implicit.customer=e}),r.Qb(5,"option",26),r.tc(6,"Elige un cliente"),r.Pb(),r.sc(7,ve,2,2,"option",27),r.Pb(),r.Pb(),r.Qb(8,"td"),r.Qb(9,"select",25),r.Xb("ngModelChange",function(e){return t.$implicit.manager=e}),r.Qb(10,"option",26),r.tc(11,"Elige un encargado"),r.Pb(),r.sc(12,Qe,2,2,"option",27),r.Pb(),r.Pb(),r.Qb(13,"td"),r.Qb(14,"select",25),r.Xb("ngModelChange",function(e){return t.$implicit.status=e}),r.Qb(15,"option",28),r.tc(16,"Iniciado"),r.Pb(),r.Qb(17,"option",29),r.tc(18,"En curso"),r.Pb(),r.Qb(19,"option",30),r.tc(20,"Completado"),r.Pb(),r.Pb(),r.Pb(),r.Qb(21,"td"),r.Qb(22,"input",31),r.Xb("bsValueChange",function(e){return t.$implicit.dates=e}),r.Pb(),r.Pb(),r.Qb(23,"td"),r.Qb(24,"textarea",32),r.Xb("ngModelChange",function(e){return t.$implicit.description=e}),r.Pb(),r.Pb(),r.Qb(25,"td",33),r.Qb(26,"a",34),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).saveChanges(a)}),r.Mb(27,"i",35),r.Pb(),r.tc(28," \xa0 "),r.Qb(29,"a",36),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).deleteCompany(a)}),r.Mb(30,"i",37),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit,a=r.Zb(2);r.zb(2),r.fc("ngModel",e.name),r.zb(2),r.fc("ngModel",e.customer),r.zb(1),r.fc("ngValue",void 0),r.zb(2),r.fc("ngForOf",a.customers),r.zb(2),r.fc("ngModel",e.manager),r.zb(1),r.fc("ngValue",void 0),r.zb(2),r.fc("ngForOf",a.managers),r.zb(2),r.fc("ngModel",e.status),r.zb(8),r.fc("bsValue",e.dates)("bsConfig",r.hc(11,ye)),r.zb(2),r.fc("ngModel",e.description)}}function Ce(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"h6",17),r.tc(2),r.Pb(),r.Qb(3,"div",18),r.Qb(4,"table",19),r.Qb(5,"thead"),r.Qb(6,"tr"),r.Qb(7,"th",20),r.tc(8,"Proyecto"),r.Pb(),r.Qb(9,"th",20),r.tc(10,"Cliente"),r.Pb(),r.Qb(11,"th",20),r.tc(12,"Encargado"),r.Pb(),r.Qb(13,"th",20),r.tc(14,"Estatus"),r.Pb(),r.Qb(15,"th",20),r.tc(16,"Fechas"),r.Pb(),r.Qb(17,"th",20),r.tc(18,"Descripci\xf3n"),r.Pb(),r.Qb(19,"th",21),r.tc(20,"Acciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(21,"tbody"),r.sc(22,_e,31,12,"tr",22),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.vc("Total de proyectos: (",e.projects.length,")"),r.zb(20),r.fc("ngForOf",e.projects)}}let Ie=(()=>{class e{constructor(e,t,a,i){this.projectServices=e,this.searchesService=t,this.customerService=a,this.userService=i,this.projects=[],this.customers=[],this.managers=[],this.loading=!0}ngOnInit(){this.loadProjects(),this.loadCustomers(),this.loadManagers()}search(e){if(0===e.length)return this.loadProjects();this.searchesService.search("projects",e).subscribe(e=>{this.projects=e})}loadProjects(){this.loading=!0,this.projectServices.loadProject().subscribe(e=>{this.loading=!1,this.projects=e})}loadCustomers(){this.customerService.loadCustomer().subscribe(e=>{this.customers=e})}loadManagers(){this.userService.loadUser().subscribe(e=>{this.managers=e})}saveChanges(e){this.projectServices.updateProject(e._id,e.name,e.customer,e.manager,e.status,e.dates,e.description).subscribe(t=>{I.a.fire("Actualizado",e.name,"success")})}deleteCompany(e){this.projectServices.deleteProject(e._id).subscribe(t=>{this.loadProjects(),I.a.fire("Borrado",e.name,"success")})}openSweetAlert(){return Object(re.a)(this,void 0,void 0,function*(){const{value:e=""}=yield I.a.fire({title:"Crear Proyecto",text:"Ingrese el nombre del nuevo proyecto",input:"text",inputPlaceholder:"Nombre del proyecto",showCancelButton:!0});e.trim().length>0&&this.projectServices.createProject(e).subscribe(e=>{this.projects.push(e.project)})})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(fe),r.Lb(X),r.Lb(Y),r.Lb(x.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-projects"]],decls:18,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Proyecto",1,"form-control",3,"keyup"],["txtTerm",""],[1,"card-header"],[1,"card-title"],[1,"fas","fa-clipboard"],[1,"text-right"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-body animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],["role","status",1,"spinner-border","m-3",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"card-body","animate__animated","animate__fadeIn","animate__fast"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w150"],[1,"w100"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["type","text","placeholder","Nombre del proyecto",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["hidden","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["value","Iniciado"],["value","En curso"],["value","Completado"],["type","text","placeholder","Elige un rango de fechas","bsDaterangepicker","",1,"form-control","containerClass",3,"bsValue","bsConfig","bsValueChange"],["rows","1",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],[1,"text-info","cursor",3,"click"],[1,"fas","fa-save"],[1,"text-danger","cursor",3,"click"],[1,"fas","fa-trash"],[3,"value"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.oc(e);const a=r.nc(5);return t.search(a.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",0),r.Qb(7,"div",1),r.Qb(8,"div",2),r.Qb(9,"div",6),r.Qb(10,"h3",7),r.Mb(11,"i",8),r.tc(12," Proyectos "),r.Pb(),r.Qb(13,"div",9),r.Qb(14,"button",10),r.Xb("click",function(){return t.openSweetAlert()}),r.tc(15," Crear Proyecto "),r.Pb(),r.Pb(),r.Pb(),r.sc(16,Pe,4,0,"div",11),r.sc(17,Ce,23,2,"div",12),r.Pb(),r.Pb(),r.Pb()}2&e&&(r.zb(16),r.fc("ngIf",t.loading),r.zb(1),r.fc("ngIf",!t.loading))},directives:[o.k,o.j,b.b,b.i,b.l,b.p,b.m,b.s,ge.c,ge.b],encapsulation:2}),e})();function xe(e,t){1&e&&(r.Qb(0,"div",9),r.Qb(1,"p",10),r.tc(2," No existen usuarios con este termino "),r.Pb(),r.Pb())}function we(e,t){1&e&&(r.Qb(0,"div",11),r.Qb(1,"h3",12),r.tc(2,"Usuarios"),r.Pb(),r.Pb())}function Me(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"div",17),r.Qb(2,"div",18),r.tc(3," Usuario "),r.Pb(),r.Qb(4,"div",19),r.Qb(5,"div",20),r.Qb(6,"div",21),r.Qb(7,"h2",22),r.Qb(8,"b"),r.tc(9),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",23),r.Mb(11,"img",24),r.ac(12,"image"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"div",4),r.Qb(14,"div",25),r.Qb(15,"a",26),r.Mb(16,"i",27),r.tc(17," Ver perfil "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=t.$implicit;r.zb(9),r.uc(e.name),r.zb(2),r.fc("src",r.cc(12,2,e.img,"users"),r.pc)}}function Se(e,t){if(1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.sc(2,Me,18,5,"div",15),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.fc("ngForOf",e.users)}}function ze(e,t){1&e&&(r.Qb(0,"div",9),r.Qb(1,"p",10),r.tc(2," No existen clientes con este termino "),r.Pb(),r.Pb())}function ke(e,t){1&e&&(r.Qb(0,"div",11),r.Qb(1,"h3",12),r.tc(2,"Clientes"),r.Pb(),r.Pb())}const je=function(e){return["/dashboard/customer",e]};function $e(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"div",17),r.Qb(2,"div",18),r.tc(3," Cliente "),r.Pb(),r.Qb(4,"div",19),r.Qb(5,"div",20),r.Qb(6,"div",21),r.Qb(7,"h2",22),r.Qb(8,"b"),r.tc(9),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",23),r.Mb(11,"img",24),r.ac(12,"image"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"div",4),r.Qb(14,"div",25),r.Qb(15,"a",28),r.Mb(16,"i",27),r.tc(17," Ver perfil "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=t.$implicit;r.zb(9),r.uc(e.name),r.zb(2),r.fc("src",r.cc(12,3,e.img,"customers"),r.pc),r.zb(4),r.fc("routerLink",r.ic(6,je,e._id))}}function Le(e,t){if(1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.sc(2,$e,18,8,"div",15),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.fc("ngForOf",e.customers)}}function Fe(e,t){1&e&&(r.Qb(0,"div",9),r.Qb(1,"p",10),r.tc(2," No existen empresas con este termino "),r.Pb(),r.Pb())}function Oe(e,t){1&e&&(r.Qb(0,"div",11),r.Qb(1,"h3",12),r.tc(2,"Empresas"),r.Pb(),r.Pb())}function Ae(e,t){if(1&e&&(r.Qb(0,"div",16),r.Qb(1,"div",17),r.Qb(2,"div",18),r.tc(3," Empresa "),r.Pb(),r.Qb(4,"div",19),r.Qb(5,"div",20),r.Qb(6,"div",21),r.Qb(7,"h2",22),r.Qb(8,"b"),r.tc(9),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",23),r.Mb(11,"img",24),r.ac(12,"image"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"div",4),r.Qb(14,"div",25),r.Qb(15,"a",26),r.Mb(16,"i",27),r.tc(17," Ver perfil "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=t.$implicit;r.zb(9),r.uc(e.name),r.zb(2),r.fc("src",r.cc(12,2,e.img,"companies"),r.pc)}}function Ee(e,t){if(1&e&&(r.Qb(0,"div",13),r.Qb(1,"div",14),r.sc(2,Ae,18,5,"div",15),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.fc("ngForOf",e.companies)}}let Ue=(()=>{class e{constructor(e,t){this.activatedRote=e,this.searchService=t,this.users=[],this.customers=[],this.companies=[]}ngOnInit(){this.activatedRote.params.subscribe(({term:e})=>this.searchGlobal(e))}searchGlobal(e){this.searchService.searchGlobal(e).subscribe(e=>{console.log(e),this.users=e.users,this.customers=e.customers,this.companies=e.companies})}openCustomer(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(i.a),r.Lb(X))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-search"]],decls:39,vars:9,consts:[[1,"card","card-solid","animate__animated","animate__fadeIn","animate__fast"],["class","alert alert-info",4,"ngIf"],["class","card-header",4,"ngIf"],["class","card-body pb-0",4,"ngIf"],[1,"card-footer"],["aria-label","Contacts Page Navigation"],[1,"pagination","justify-content-center","m-0"],[1,"page-item"],["href","#",1,"page-link"],[1,"alert","alert-info"],[1,"mb-0"],[1,"card-header"],[1,"card-title"],[1,"card-body","pb-0"],[1,"row","d-flex","align-items-stretch"],["class","col-12 col-sm-6 col-md-4 d-flex align-items-stretch",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","d-flex","align-items-stretch"],[1,"card","bg-light"],[1,"card-header","text-muted","border-bottom-0"],[1,"card-body","pt-0"],[1,"row"],[1,"col-7"],[1,"lead"],[1,"col-5","text-center"],["alt","",1,"img-circle","img-fluid","w300",3,"src"],[1,"text-right"],["href","#",1,"btn","btn-sm","btn-primary"],[1,"fas","fa-user"],[1,"btn","btn-sm","btn-primary",3,"routerLink"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.sc(1,xe,3,0,"div",1),r.sc(2,we,3,0,"div",2),r.sc(3,Se,3,1,"div",3),r.Qb(4,"div",4),r.Qb(5,"nav",5),r.Qb(6,"ul",6),r.Qb(7,"li",7),r.Qb(8,"a",8),r.tc(9,"Anterior"),r.Pb(),r.Pb(),r.Qb(10,"li",7),r.Qb(11,"a",8),r.tc(12,"Siguiente"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"div",0),r.sc(14,ze,3,0,"div",1),r.sc(15,ke,3,0,"div",2),r.sc(16,Le,3,1,"div",3),r.Qb(17,"div",4),r.Qb(18,"nav",5),r.Qb(19,"ul",6),r.Qb(20,"li",7),r.Qb(21,"a",8),r.tc(22,"Anterior"),r.Pb(),r.Pb(),r.Qb(23,"li",7),r.Qb(24,"a",8),r.tc(25,"Siguiente"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"div",0),r.sc(27,Fe,3,0,"div",1),r.sc(28,Oe,3,0,"div",2),r.sc(29,Ee,3,1,"div",3),r.Qb(30,"div",4),r.Qb(31,"nav",5),r.Qb(32,"ul",6),r.Qb(33,"li",7),r.Qb(34,"a",8),r.tc(35,"Anterior"),r.Pb(),r.Pb(),r.Qb(36,"li",7),r.Qb(37,"a",8),r.tc(38,"Siguiente"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(1),r.fc("ngIf",0===t.users.length),r.zb(1),r.fc("ngIf",t.users.length>0),r.zb(1),r.fc("ngIf",t.users.length>0),r.zb(11),r.fc("ngIf",0===t.customers.length),r.zb(1),r.fc("ngIf",t.customers.length>0),r.zb(1),r.fc("ngIf",t.customers.length>0),r.zb(11),r.fc("ngIf",0===t.companies.length),r.zb(1),r.fc("ngIf",t.companies.length>0),r.zb(1),r.fc("ngIf",t.companies.length>0))},directives:[o.k,o.j,i.e],pipes:[K],encapsulation:2}),e})();function Te(e,t){1&e&&(r.Qb(0,"div",11),r.Qb(1,"div",12),r.Qb(2,"span",13),r.tc(3,"Loading..."),r.Pb(),r.Pb(),r.Pb())}function Xe(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr",21),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.Qb(6,"input",22,23),r.Xb("ngModelChange",function(e){return t.$implicit.price=e}),r.Pb(),r.Pb(),r.Qb(8,"td",24),r.Qb(9,"a",25),r.Xb("click",function(){r.oc(e);const t=r.nc(7);return r.Zb(2).changeInput(t.id)}),r.Mb(10,"i",26),r.Pb(),r.tc(11," \xa0 "),r.Qb(12,"a",27),r.Xb("click",function(){r.oc(e);const a=t.$implicit;return r.Zb(2).saveChanges(a)}),r.Mb(13,"i",28),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit;r.zb(2),r.vc(" ",e.name," "),r.zb(2),r.vc(" ",e.description," "),r.zb(2),r.fc("id",e._id)("ngModel",e.price)}}function Ne(e,t){if(1&e&&(r.Qb(0,"div",14),r.Qb(1,"h6",15),r.tc(2),r.Pb(),r.Qb(3,"div",16),r.Qb(4,"table",17),r.Qb(5,"thead"),r.Qb(6,"tr"),r.Qb(7,"th"),r.tc(8,"Producto"),r.Pb(),r.Qb(9,"th"),r.tc(10,"Descripci\xf3n"),r.Pb(),r.Qb(11,"th",18),r.tc(12,"Precio + IVA"),r.Pb(),r.Qb(13,"th",19),r.tc(14,"Acciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"tbody"),r.sc(16,Xe,14,4,"tr",20),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.Zb();r.zb(2),r.vc("Total de ventas: (",e.sales.length,")"),r.zb(14),r.fc("ngForOf",e.sales)}}const De=[{path:"",component:c,data:{title:"Dashboard"}},{path:"sales",component:(()=>{class e{constructor(e,t){this.projectService=e,this.searchesService=t,this.sales=[],this.loading=!1}ngOnInit(){this.loadSales()}loadSales(){this.projectService.loadProject().subscribe(e=>{this.sales=e})}search(e){if(0===e.length)return this.loadSales();this.searchesService.search("projects",e).subscribe(e=>{this.sales=e})}saveChanges(e){this.projectService.updatePrice(e._id,e.name,e.price).subscribe(t=>{I.a.fire("Precio actualizado",e.name,"success")})}changeInput(e){const t=document.querySelector(`[id='${e}']`);""===t.getAttribute("disabled")?t.removeAttribute("disabled"):t.setAttribute("disabled","")}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(fe),r.Lb(X))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-sales"]],decls:15,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar venta",1,"form-control",3,"keyup"],["txtTerm",""],[1,"card-header"],[1,"card-title"],[1,"fas","fa-file-invoice-dollar"],["class","card-body text-center animate__animated animate__fadeIn animate__fast",4,"ngIf"],["class","card-body animate__animated animate__fadeIn animate__fast",4,"ngIf"],[1,"card-body","text-center","animate__animated","animate__fadeIn","animate__fast"],["role","status",1,"spinner-border","m-3",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"card-body","animate__animated","animate__fadeIn","animate__fast"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w150"],[1,"text-nowrap"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["disabled","","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["inputElement",""],[1,"text-nowrap","text-center"],[1,"text-primary","cursor",3,"click"],[1,"fas","fa-pencil-alt"],[1,"text-info","cursor",3,"click"],[1,"fas","fa-save"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.oc(e);const a=r.nc(5);return t.search(a.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",0),r.Qb(7,"div",1),r.Qb(8,"div",2),r.Qb(9,"div",6),r.Qb(10,"h3",7),r.Mb(11,"i",8),r.tc(12," Ventas "),r.Pb(),r.Pb(),r.sc(13,Te,4,0,"div",9),r.sc(14,Ne,17,2,"div",10),r.Pb(),r.Pb(),r.Pb()}2&e&&(r.zb(13),r.fc("ngIf",t.loading),r.zb(1),r.fc("ngIf",!t.loading))},directives:[o.k,o.j,b.b,b.i,b.l],encapsulation:2}),e})(),data:{title:"Ventas"}},{path:"progress",component:u,data:{title:"Progreso"}},{path:"search/:term",component:Ue,data:{title:"Busqueda"}},{path:"grafic1",component:p,data:{title:"Graficas"}},{path:"promesas",component:h,data:{title:"Promesas"}},{path:"profile",component:z,data:{title:"Profile"}},{path:"rxjs",component:_,data:{title:"Rxjs"}},{path:"customers",component:ie,data:{title:"Mantenimiento de clientes"}},{path:"projects",component:Ie,data:{title:"Mantenimiento de proyectos"}},{path:"customer/:id",component:pe,data:{title:"Detalle del cliente"}},{path:"companies",component:de,data:{title:"Mantenimiento de empresas"}},{path:"users",canActivate:[(()=>{class e{constructor(e,t){this.userService=e,this.router=t}canActivate(e,t){return"ADMIN_ROLE"===this.userService.role||this.router.navigateByUrl("/dashboard"),!0}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(x.a),r.Ub(i.c))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],component:G,data:{title:"Mantenimiento de usuarios"}}];let Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({imports:[[i.f.forChild(De)],i.f]}),e})()}}]);